<!-- - -
 ! Targeted by Git Hub adaptor link `README.md`, this file is written in Markdown compatible HTML. -->
<h1 lang='en-CA'>Java Mode Tamed</h1>
<section lang='en-CA'> <!-- Introduction -->
    <p>
        Project Java Mode Tamed implements a derived major mode for Emacs (`jmt-mode`) that affords
        better control of the built-in Java mode, particularly in regard to syntax highlighting.
        For this, it defines customizeable faces to highlight the following features of Java.
        </p>
    <ul>
        <li>Annotation details</li>
        <li>Delimiters (quotes, various forms of bracket and separator)</li>
        <li>Javadoc details</li>
        <li>Keywords, according to role</li>
        <li>Named literals: `true`, `false`, `null`</li>
        <li>Package-declaration details</li>
        <li>Shebang</li>
        <li>Type identifiers at point of declaration (as opposed to reference)</li>
        <li>Type variables at point of declaration</li>
        </ul>
    <p>
        Additionally it corrects misfontifications of Java mode in certain features, such as:
        </p>
    <ul>
        <li>Annotations</li>
        <li>Assert statements</li>
        <li>Enhanced `for` loops</li>
        <li>Javadoc block tags</li>
        <li>Method and constructor declarations</li>
        <li>Multi-type catch parameters</li>
        <li>Static imports</li>
        </ul>
    </section>
<section lang='en-CA' id='Installation'>
    <h2>Installation</h2>
    <p>
        If you install package `jmt-mode` using a package manager, then already it should activate
        for any loaded file that has either a `.java` extension or `java` shebang.  Alternatively,
        see `<a href='jmt-mode.el'>jmt-mode.el</a>` for instructions on installing the mode manually.
        </p>
    </section>
<section lang='en-CA' id='Customization'>
    <h2>Customization</h2>
    <p>
        To view a list of the customizeable faces, enter a `jmt-mode` buffer (or otherwise
        load `jmt-mode`) and type `M-x customize-group &lt;RET> jmt &lt;RET>`.
        Or look through the `defface` definitions in `jmt-mode.el`.
        </p>
    <p>
        For reference, a working example of customization is available:
        </p>
    <ul>
        <li>The author’s `<a href='http://reluk.ca/.Xresources'>~/.Xresources</a>`.</li>
        <li>Corresponding screen shots:
            <a href='http://reluk.ca/project/Java/Emacs/screen_shot/1_before.png'>
            untamed</a>, <a href='http://reluk.ca/project/Java/Emacs/screen_shot/2_after.png'>
            tamed</a>, and further
            <a href='http://reluk.ca/project/Java/Emacs/screen_shot/3_after_customization.png'>
            customized</a> as taming allows.</li>
        </ul>
    </section>
<section lang='en-CA' id='Copying'>
    <h2>Copying</h2>
    <p>
        Copyright © 2019-2020, Michael Allan.
        The files for this project are released under an <a href='LICENCE.txt'>MIT licence</a>.
        </p>
    <ul>
        <li>Web copy of latest files at <a href='http://reluk.ca/project/Java/Emacs/'>reluk.ca</a>.</li>
        <li>Browsable revision history at <a>Git Hub</a>.* (top of this page)</li>
        <li>
            Bare `.git` clones at
            <a href=    'http://reluk.ca/var/repo/git/Java_Mode_Tamed.git'>reluk.ca</a> or
            <a href='https://github.com/Michael-Allan/Java_Mode_Tamed.git'>Git Hub</a>.*
            </li>
        <li>
            Project <a href='project_installation.brec'>installation instructions</a>.
            <div style='font-size:0.85em; margin-left:1em; margin-top:0.3em; opacity:0.7'>
                * Branch `reluk.ca` is liable to be rebased, `master` is stable.
                </div>
            </li>
        </ul>
    </section>
<script> // Inadvertently this all renders when viewed on Git Hub.
    ( function() {

        /** Correct the hyperlinks and related content of this document under the assumption
          * that the document was not served from Git Hub.
          */
        function amend() {
            if( typeof document.createNodeIterator !== 'function' ) return;

            let isCorrect_github = false;
            let isCorrect_reluk = docLoc.indexOf('//reluk.ca/') < 0;
            const traversal = document.createNodeIterator( document.body, NodeFilter.SHOW_ELEMENT );
            for( traversal.nextNode()/*onto the body element itself*/;; ) {
                const t = traversal.nextNode();
                if( t === null ) break;

                if( t.localName !== 'a' ) continue;

                let maybeFinished = false;
                if( !isCorrect_reluk && t.href === 'http://reluk.ca/project/Java/Emacs/' ) {

                  // Disable useless hyperlink, appending text directions instead
                  // ─────────────────────────
                    t.removeAttribute( 'href' );
                    const text = document.createTextNode( ' (top of this page)' );
                    t.parentNode.appendChild( text, t.nextSibling );
                    isCorrect_reluk = maybeFinished = true; }
                if( !isCorrect_github ) {
                    let text = asText( t.firstChild );
                    if( text && text.data === 'Git Hub' ) {
                        text = asText( t.nextSibling );
                        if( text !== null ) {

                          // Remove deceptive text directions, enabling the hyperlink instead
                          // ────────────────────────────────
                            text.replaceData( 2, text.length, '' ); // Removing the parenthetic trailer.
                            t.setAttribute( 'href',
                              'https://github.com/Michael-Allan/Java_Mode_Tamed/' );
                            isCorrect_github = maybeFinished = true; }}}
                if( maybeFinished && isCorrect_github && isCorrect_reluk ) break; }}


        /** Return the given node if it is a text node, otherwise return null.
          */
        function asText( node ) { return node.nodeType === /*Node.TEXT_NODE*/3? node : null; }


        const docLoc = document.URL;


    ////////////////////

        if( docLoc.indexOf('//github.com/') < 0 ) amend(); }() );
    </script>
